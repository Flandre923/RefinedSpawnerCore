# 半透明渲染测试指南

## 测试步骤

### 1. 启动游戏测试
```bash
# 构建并运行游戏
./gradlew runClient
```

### 2. 测试场景

#### 场景1：基本半透明效果
1. 放置一个刷怪器方块
2. 右键打开GUI界面
3. 观察空的模块槽位是否显示半透明的提示物品
4. **预期效果**：提示物品应该是半透明的，透明度约40%

#### 场景2：脉动效果测试
1. 观察普通模块槽位（范围扩展、范围缩减等）
2. 注意提示物品是否有脉动效果
3. **预期效果**：透明度应该在20%-50%之间周期性变化

#### 场景3：边框效果测试
1. 观察模拟升级槽位（如果可见）
2. 检查是否有金色边框
3. 观察抢夺/斩首升级槽位是否有紫色边框
4. **预期效果**：特殊槽位应该有彩色边框和半透明背景

#### 场景4：对比测试
1. 在槽位中放入实际的模块物品
2. 对比实际物品和提示物品的视觉差异
3. **预期效果**：实际物品应该完全不透明，提示物品应该明显半透明

### 3. 视觉检查清单

- [ ] 空槽位显示半透明提示物品
- [ ] 提示物品透明度明显低于正常物品
- [ ] 普通模块槽位有脉动效果
- [ ] 模拟升级槽位有金色边框
- [ ] 升级模块槽位有紫色边框
- [ ] 有物品的槽位不显示提示
- [ ] 动画效果流畅，无闪烁
- [ ] 渲染性能正常，无卡顿

### 4. 问题排查

#### 如果提示物品不透明：
1. 检查RenderSystem导入是否正确
2. 确认混合模式是否正确启用
3. 验证setShaderColor调用是否生效

#### 如果没有脉动效果：
1. 检查System.currentTimeMillis()是否正常工作
2. 确认Math.sin计算是否正确
3. 验证透明度计算公式

#### 如果边框不显示：
1. 检查槽位类型判断逻辑
2. 确认颜色值格式是否正确
3. 验证fill方法调用是否正确

### 5. 性能测试

#### 帧率测试：
1. 按F3显示调试信息
2. 观察FPS是否稳定
3. 打开/关闭GUI界面时FPS变化

#### 内存测试：
1. 长时间保持GUI界面打开
2. 观察内存使用是否稳定
3. 检查是否有内存泄漏

### 6. 预期结果

#### 正常工作的标志：
- ✅ 提示物品明显半透明
- ✅ 脉动效果平滑自然
- ✅ 边框颜色正确显示
- ✅ 不同槽位有不同效果
- ✅ 性能影响最小

#### 成功的视觉效果：
- **普通模块**：白色背景，脉动透明度
- **模拟升级**：金色边框，固定透明度
- **升级模块**：紫色边框，固定透明度
- **实际物品**：完全不透明，正常显示

## 代码验证

### 关键方法测试：

```java
// 测试基础透明度
TransparentItemRenderer.renderTransparentItem(guiGraphics, itemStack, x, y, 0.5f);

// 测试脉动效果
TransparentItemRenderer.renderSlotHint(guiGraphics, itemStack, x, y);

// 测试边框效果
TransparentItemRenderer.renderSlotHintWithBorder(guiGraphics, itemStack, x, y, 0x80FFD700);
```

### 渲染状态检查：
```java
// 确认混合模式正确设置
RenderSystem.enableBlend();
RenderSystem.defaultBlendFunc();

// 确认颜色正确设置
RenderSystem.setShaderColor(1.0f, 1.0f, 1.0f, alpha);

// 确认状态正确恢复
RenderSystem.setShaderColor(1.0f, 1.0f, 1.0f, 1.0f);
RenderSystem.disableBlend();
```

## 故障排除

### 常见问题：

1. **提示物品完全不透明**
   - 原因：RenderSystem调用失败
   - 解决：检查导入和API版本

2. **提示物品完全透明**
   - 原因：透明度设置过低
   - 解决：调整alpha值范围

3. **脉动效果不工作**
   - 原因：时间计算错误
   - 解决：检查时间获取和数学计算

4. **边框不显示**
   - 原因：颜色格式错误
   - 解决：使用正确的ARGB格式

5. **性能问题**
   - 原因：渲染状态频繁切换
   - 解决：优化渲染批次

现在的半透明槽位提示应该提供清晰的视觉反馈，帮助用户更好地理解界面功能！
